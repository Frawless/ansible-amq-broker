# Copyright 2017 Red Hat, Inc. and/or its affiliates
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---
# defaults file for jamq-7-default
# Whether to skip install
jamq7_skip_install: false

# Whether to skip creating an instance
jamq7_skip_create: false

# Whether to skip configuration step for a broker
jamq7_skip_configure: true

# Whether to install Java JVM and which one to install
jamq7_broker_java_install: true
jamq7_broker_java: java-1.8.0-openjdk-devel

# Journal type for the broker instance
jamq7_instance_journal_type: nio
jamq7_instance_role: amq
jamq7_instance_user: admin
jamq7_instance_web_host: 0.0.0.0
jamq7_instance_create_options: "--force --require-login --password=admin --http-host {{ jamq7_instance_web_host }} "
jamq7_instance_jmx_port: 1099
jamq7_instance_create_java_options: "-Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.port={{ jamq7_instance_jmx_port }} -Djava.rmi.server.hostname={{ ansible_default_ipv4.address }} -Dcom.sun.management.jmxremote.rmi.port={{ jamq7_instance_jmx_port }} -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false"
jamq7_instance_create_command: runuser -s ${SHELL} jamq -c './artemis create {{ jamq7_instance_create_options }} --{{ jamq7_instance_journal_type }} --role={{ jamq7_instance_role }} --user={{ jamq7_instance_user }} --java-options="{{ jamq7_instance_create_java_options }}" --name=amq {{ jamq7_install_dest }}/{{ jamq7_instance_dir }}'

jamq7_instance_type: default

jamq7_cluster_broadcast_group_name: my-broadcast-group
jamq7_cluster_broadcast_group_address: 231.7.7.7
jamq7_cluster_broadcast_group_port: 9876

jamq7_cluster_discovery_group_name: my-discovery-group
jamq7_cluster_name: my-cluster

jamq7_cluster_username: ACTIVEMQ.CLUSTER.ADMIN.USER
jamq7_cluster_password: redhat
