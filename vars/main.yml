---
# vars file for jamq-7-default
# Whether to skip install
jamq7_skip_install: false

# Whether to skip creating an instance
jamq7_skip_create: false

# Whether to install Java JVM and which one to install
jamq7_broker_java_install: true
jamq7_broker_java: java-1.8.0-openjdk-devel

# Journal type for the broker instance
jamq7_instance_journal_type: nio
jamq7_instance_role: amq
jamq7_instance_user: admin
jamq7_instance_create_options: "--force --require-login --password=admin "
jamq7_instance_jmx_port: 1099
jamq7_instance_create_java_options: "-Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.port={{ jamq7_instance_jmx_port }} -Djava.rmi.server.hostname={{ ansible_default_ipv4.address }} -Dcom.sun.management.jmxremote.rmi.port={{ jamq7_instance_jmx_port }} -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false"
jamq7_instance_create_command: runuser -s ${SHELL} jamq -c './artemis create {{ jamq7_instance_create_options }} --{{ jamq7_instance_journal_type }} --role={{ jamq7_instance_role }} --user={{ jamq7_instance_user }} --java-options="{{ jamq7_instance_create_java_options }}" --name=amq {{ jamq7_install_dest }}/{{ jamq7_instance_dir }}'
